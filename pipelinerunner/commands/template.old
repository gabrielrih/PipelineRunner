
def create_from_cli(name: str, description: str, params: List[str]):
    click.echo(f'Creating template using this parameters: {locals()}')
#     try:
#         parameter_schema = {}
        
#         for param_str in params:
#             param_def = parse_param_string(param_str)
#             parameter_schema[param_def['name']] = {
#                 k: v for k, v in param_def.items() if k != 'name'
#             }
        
#         template = {
#             "name": name,
#             "description": description,
#             "parameter_schema": parameter_schema
#         }
        
#         template_path = save_template(template)
#         click.echo(f"âœ… Template '{name}' created successfully!")
#         click.echo(f"ðŸ“ Location: {template_path}")
        
#     except ValueError as e:
#         click.echo(f"âŒ Error: {e}", err=True)
#         sys.exit(1)



# def parse_param_string(param_str: str) -> dict:
#     """
#     Parse parameter string format:
#     NAME:TYPE:REQUIRED[:default=VALUE][:options=VAL1,VAL2]
#     """
#     parts = param_str.split(':')
    
#     if len(parts) < 3:
#         raise ValueError(
#             f"Invalid parameter format: {param_str}\n"
#             "Expected: NAME:TYPE:REQUIRED[:default=VALUE][:options=VAL1,VAL2]"
#         )
    
#     name = parts[0]
#     param_type = parts[1]
#     required_flag = parts[2]
    
#     if param_type not in ['string', 'number', 'boolean']:
#         raise ValueError(f"Invalid type '{param_type}'. Must be: string, number, or boolean")
    
#     if required_flag not in ['required', 'optional']:
#         raise ValueError(f"Invalid flag '{required_flag}'. Must be: required or optional")
    
#     param_def = {
#         'name': name,
#         'type': param_type,
#         'required': required_flag == 'required'
#     }
    
#     # Parse optional parts
#     for part in parts[3:]:
#         if part.startswith('default='):
#             param_def['default'] = part.split('=', 1)[1]
#         elif part.startswith('options='):
#             options_str = part.split('=', 1)[1]
#             param_def['options'] = [opt.strip() for opt in options_str.split(',')]
    
#     return param_def


# def save_template(template: dict) -> str:
#     """Save template to file"""
#     # Validate first
#     is_valid, errors = validate_template(template)
#     if not is_valid:
#         raise ValueError(f"Invalid template:\n" + "\n".join(errors))
    
#     # Create templates directory if not exists
#     templates_dir = Path.home() / '.pipelinerunner' / 'templates'
#     templates_dir.mkdir(parents=True, exist_ok=True)
    
#     # Save template
#     template_path = templates_dir / f"{template['name']}.json"
#     with open(template_path, 'w') as f:
#         json.dump(template, f, indent=2)
    
#     return str(template_path)


# def validate_template(template: dict) -> tuple[bool, list[str]]:
#     """Validate template structure"""
#     errors = []
    
#     if 'name' not in template:
#         errors.append("Missing 'name' field")
    
#     if 'parameter_schema' not in template:
#         errors.append("Missing 'parameter_schema' field")
#     else:
#         schema = template['parameter_schema']
#         for param_name, param_def in schema.items():
#             if 'type' not in param_def:
#                 errors.append(f"Parameter '{param_name}': missing 'type'")
#             elif param_def['type'] not in ['string', 'number', 'boolean']:
#                 errors.append(f"Parameter '{param_name}': invalid type")
            
#             if 'required' not in param_def:
#                 errors.append(f"Parameter '{param_name}': missing 'required' field")
    
#     return len(errors) == 0, errors
